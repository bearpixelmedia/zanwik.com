"use strict";(self.webpackChunkumbrella_dashboard_client=self.webpackChunkumbrella_dashboard_client||[]).push([[561],{3561:(e,a,s)=>{s.r(a),s.d(a,{default:()=>n});var l=s(9950),t=s(4813),d=s(1543),i=s(4414);const n=()=>{const{user:e}=(0,d.A)(),[a,s]=(0,l.useState)(null),[n,c]=(0,l.useState)(""),[r,u]=(0,l.useState)(!0),[m,o]=(0,l.useState)(!1),[b,x]=(0,l.useState)(""),[h,p]=(0,l.useState)("");(0,l.useEffect)(()=>{e&&(u(!0),x(""),t.db.profiles.getById(e.id).then(e=>{s(e),c((null===e||void 0===e?void 0:e.name)||"")}).catch(()=>x("Failed to load profile")).finally(()=>u(!1)))},[e]);return r?(0,i.jsx)("div",{className:"p-4",children:"Loading..."}):b?(0,i.jsx)("div",{className:"p-4 text-red-600",children:b}):(0,i.jsxs)("div",{className:"max-w-md mx-auto p-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Settings"}),(0,i.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),o(!0),x(""),p("");try{await t.db.profiles.update(e.id,{name:n}),p("Saved!")}catch(s){x("Failed to save")}o(!1)},className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm mb-1",children:"Email"}),(0,i.jsx)("input",{value:e.email,disabled:!0,className:"w-full border p-2 rounded bg-gray-100"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm mb-1",children:"Display Name"}),(0,i.jsx)("input",{value:n,onChange:e=>c(e.target.value),className:"w-full border p-2 rounded"})]}),(0,i.jsx)("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white px-4 py-2 rounded",children:m?"Saving...":"Save"}),h&&(0,i.jsx)("div",{className:"text-green-600",children:h}),b&&(0,i.jsx)("div",{className:"text-red-600",children:b})]})]})}}}]);